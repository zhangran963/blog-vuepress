### 浏览器角度的进程和线程
|Browser进程|GPU进程|网页进程(多个)|插件进程(多个)|
|:--:|:--:|:--:|:--:|
|唯一主进程|3D绘制|浏览器渲染进程|1种插件 <=> 1个进程|
|创建和销毁其他进程|最多1个|内部多线程||
|网络资源下载和管理||渲染, js, 事件, 网络||
|显示浏览器界面||||
|前进后退||||
|||||

***
***

### 网页进程(浏览器渲染进程)

|GUI渲染|JavaScript引擎|事件|定时器|网络请求|
|:--:|:--:|:--:|:--:|:--:|
|渲染页面|处理, 解析, 运行|控制浏览器事件循环|setTimeout, setInterval|网络>状态变更事件>队列>执行|
|与JS引擎互斥|与渲染互斥||

***

### web worker

* web worker支持多线程, 但是web worker不能访问window和document

### 单线程的优缺点

* 优点: 实现比较简单, 执行环境单纯
* 缺点: 若某任务耗时长, 拖延整个程序的执行, 浏览器容易无响应; 

### JavaScript采用异步的原因

* JavaScript是单线程的
* 提高CPU利用率

### 异步过程

``` js
fs.readFile('data.json', 'utf-8', function(err, data) {
    console.log(data)
})
```

1. 主线程发起异步操作 `fs.readFile` 
2. 工作线程接受请求,并告知主线程已收到(异步函数返回)
3. 主线程继续执行后续代码; 工作线程执行异步任务
4. 工作线程完成任务, 封装消息, 并放到消息队列
5. 主线程通过事件循环过程去取消息
6. 主线程执行回调

